<!DOCTYPE html>
<html>
<head>
	<title>My Cosmos DB App</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<h1>My Cosmos DB App</h1>
	<table id="myTable">
		<thead>
			<tr>
				<th>Name</th>
                <th>Status</th>

			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>

	<script>
		$(document).ready(function () {
			// Define the endpoint and key for your Cosmos DB account
			var endpoint = "https://faculty-availability-dashboard.documents.azure.com:443/";
			var key = "KsbXgkqIoVF5K0fFm2hPgvLRQNtyE4Fno1z1xAzM1w890h0EoPoqicJ48JbftTIfujixCoBpwOGvACDbd6vZpg==";

			// Define the database and collection you want to query
			var databaseId = "FacultyAvailabilityDB";
			var collectionId = "FacultyAvailabilityCollection";

			// Define the query to fetch all documents in the collection
			var query = "SELECT * FROM c";

			// Create a Cosmos DB client object
			var client = new CosmosClient({ endpoint: endpoint, key: key });

			// Query the database and display the results in the table
			client
				.database(databaseId)
				.container(collectionId)
				.items.query(query)
				.fetchAll()
				.then(function (results) {
					var table = $("#myTable tbody");
					results.forEach(function (item) {
						var row = $("<tr>");
						$("<td>").text(item.name).appendTo(row);
						$("<td>").text(item.status).appendTo(row);
						row.appendTo(table);
					});
				})
				.catch(function (error) {
					console.error(error);
				});
		});
	</script>
</body>
</html>
